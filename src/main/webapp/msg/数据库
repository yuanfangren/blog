create table blog_channel(
	channel_id int not null PRIMARY key auto_increment comment '栏目ID',
	channel_name VARCHAR(50) not null comment '栏目名称',
	channel_order int not null comment '栏目排序',
	channel_createtime datetime not null comment '栏目创建时间',
	channel_updatetime datetime not null comment '栏目更新时间',
	channel_desc varchar(300) comment '栏目描述'
) comment '栏目表';


create table blog_article(
	article_id int not null PRIMARY key auto_increment comment '文章ID',
	article_title VARCHAR(50) not null comment '文章标题',
	article_createtime datetime not null comment '文章创建时间',
	article_updatetime datetime not null comment '文章更新时间',
  channel_id int comment '文章所属栏目ID',
	article_status char(1) not null comment '文章状态 1是发布 0是草稿'
) comment '栏目表';
alter table blog_article modify channel_id int not null comment '文章所属栏目ID';
alter table blog_article add article_content text comment '文章内容';
alter table blog_article add article_remark varchar(400) comment '文章摘要';

create table blog_user(
	 user_id int(11) not null primary key auto_increment comment 'ID',
	 user_username varchar(30) not null comment '登录名',
	 user_nickname varchar(30)  comment '昵称',
	 user_password varchar(32) not null comment '密码',
	 user_email varchar(50) not null comment '邮箱',
	 user_createtime datetime not null comment '用户创建时间',
	 user_updatetime datetime not null comment '用户更新时间'
) comment '用户表';
alter table blog_user add user_status int not null comment '用户状态 0 禁用 1 启用';
alter table blog_user add user_type int not null comment '用户类型 0 是管理员 1是普通用户';

create table blog_tag(
	tag_id int not null primary key auto_increment comment '标签ID',
	tag_name varchar(15) not null comment '标签名称'
) comment '标签表';

create table blog_article_tag(
	article_tag_id int not null primary key auto_increment comment 'ID',
	tag_id int not null comment '标签ID',
	article_id int not null comment '文章ID'
) comment '文章标签关联表';

create table blog_log(
	 log_id int not null PRIMARY key  auto_increment comment '自增主键',
	 log_desc varchar(100) comment '日志简单描述信息',
   log_opertype int comment '操作类型 ',
	 log_opermodule int comment '操作模块 ',
   user_id int comment '用户id',
	 log_operdate varchar(32) comment ' 操作日期',
   log_operip varchar(50) comment '操作IP',
	 log_result int(1) comment '操作结果 1是正常 2是异常',
	 log_resultdesc varchar(500) comment '异常描述',
	 note varchar(4000) comment '备注信息'
) comment '日志表';

create table blog_homestatistics(
		home_id int not null PRIMARY key auto_increment comment 'ID',
		home_ip VARCHAR(100) comment '访问IP',
		home_time datetime comment '访问时间'
) comment '首页统计表';